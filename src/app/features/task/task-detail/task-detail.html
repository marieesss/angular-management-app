<app-toast />
<div class="px-6 lg:px-12 py-8 max-w-4xl mx-auto">
<button routerLink="/tasks" class="mb-6 inline-flex items-center gap-2 text-fg-brand hover:underline">
    â† Retour Ã  la liste des tÃ¢ches
</button>

 @if (task()) {
       <div class="flex justify-between items-center mb-6"> 
        <h1 class="text-2xl font-bold text-heading mb-4">{{ task()?.title }}</h1>

        <div class="flex items-center justify-between gap-4 align-middle">

        <button routerLink="/update/{{task()?.id}}" class ="mt-4  inline-flex items-center justify-center rounded-lg bg-amber-200 hover:bg-amber-400 px-4 py-2.5 text-white shadow-sm transition-colors">
            <p>ğŸ“</p>
        </button>  

        <button (click)="onDelete()" class ="mt-4  inline-flex items-center justify-center rounded-lg bg-violet-200 hover:bg-violet-400 px-4 py-2.5 text-white shadow-sm transition-colors">
                ğŸ—‘ï¸
        </button>  
                    <span class="px-2 py-1 rounded text-s font-medium"
                  [class.bg-yellow-100]="task()?.status === 'PENDING'"
                  [class.text-yellow-800]="task()?.status === 'PENDING'"
                  [class.bg-blue-100]="task()?.status === 'IN_PROGRESS'"
                  [class.text-blue-800]="task()?.status === 'IN_PROGRESS'"
                  [class.bg-green-100]="task()?.status === 'DONE'"
                  [class.text-green-800]="task()?.status === 'DONE'">
                {{ (task()?.status ?? '') | taskStatus }}
            </span>
        </div>  
       </div>
           <div>
               <h2 class="text-lg font-semibold text-heading mb-3">Description</h2>
               <p class="text-body leading-relaxed">{{ task()?.description }}</p>
           </div>

           <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
               <div class="bg-neutral-secondary-soft p-4 rounded-lg">
                   <h3 class="text-sm font-medium text-body mb-2">CrÃ©Ã© le</h3>
                   <p class="text-heading font-semibold">
                       {{ task()?.createdAt | frenchDate }}
                   </p>
               </div>
               <div class="bg-neutral-secondary-soft p-4 rounded-lg">
                   <h3 class="text-sm font-medium text-body mb-2">DerniÃ¨re modification</h3>
                   <p class="text-heading font-semibold">
                       {{ task()?.updatedAt | frenchDate }}
                   </p>
               </div>
               <div class="bg-neutral-secondary-soft p-4 rounded-lg">
                   <h3 class="text-sm font-medium text-body mb-2">Utilisateur assignÃ©</h3>
                   <p class="text-heading font-semibold">
                       {{ task()?.user?.username || 'Non assignÃ©' }}
                   </p>
               </div>
               <div class="bg-neutral-secondary-soft p-4 rounded-lg">
                   <h3 class="text-sm font-medium text-body mb-2">ID de la tÃ¢che</h3>
                   <p class="text-heading font-semibold">
                       #{{ task()?.id }}
                   </p>
               </div>
               @if (task()?.targetUserId) {
                   <div class="bg-neutral-secondary-soft p-4 rounded-lg">
                       <h3 class="text-sm font-medium text-body mb-2">ID utilisateur cible</h3>
                       <p class="text-heading font-semibold">
                           {{ task()?.targetUserId }}
                       </p>
                   </div>
               }
           </div>

       
    } @else {
        <div class="text-center py-12">
            <p class="text-body mb-4">TÃ¢che introuvable</p>
        </div>
    }
</div>
